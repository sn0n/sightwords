<!DOCTYPE html>
<html>

<head>
  <style>
    .theWord {
      left: 50%;
      margin-top: 50px;
      margin: auto;
      text-align: center;
      justify-content: center;
    }

    .highlight {
      font-size: 3em;
      font-weight: bolder;
    }

    .refresh {
      position: fixed;
      bottom: 25px;
      right: 25px;
    }

    .button {
      background-color: #04AA6D;
      border: none;
      color: white;
      padding: 0px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 2em;
      margin: auto;
      ;
      border-radius: 50%;
      height: 2em;
      width: 2em;
    }
  </style>
</head>

<body>
  <button onClick='nextWord()' class='refresh button'>&#8634;</button>
  <audio id="myAudio">
  </audio>

  <div class="theWord">
    <span id="theWord" class="highlight"></span>
    <button onclick="playAudio()" class="button">&#9654;</button>
  </div>



  <script>
    let sightList = [
      'all',
      'am',
      'are',
      'at',
      'ate',
      'be',
      'black',
      'brown',
      'but',
      'came',
      'did',
      'do',
      'eat',
      'four',
      'get',
      'good',
      'have',
      'he',
      'into',
      'like',
      'must',
      'new',
      'no',
      'now',
      'on',
      'our',
      'out',
      'please',
      'pretty',
      'ran',
      'ride',
      'saw',
      'say',
      'she',
      'so',
      'soon',
      'that',
      'there',
      'they',
      'this',
      'too',
      'under',
      'want',
      'was',
      'well',
      'went',
      'what',
      'white',
      'who',
      'will',
      'with',
      'yes',
    ];

    function shuffle(array) {
      let currentIndex = array.length, randomIndex;

      // While there remain elements to shuffle.
      while (currentIndex != 0) {

        // Pick a remaining element.
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex--;

        // And swap it with the current element.
        [array[currentIndex], array[randomIndex]] = [
          array[randomIndex], array[currentIndex]];
      }

      return array;
    }
    let i = 0
    var x = document.getElementById("myAudio");
    let theWord = shuffle(sightList);
    theNewWord = theWord[i];
    document.getElementById("theWord").innerText = theNewWord;
    document.getElementById("myAudio").innerHTML = '<source src="./audio/'+theNewWord+'.mp3" type="audio/mpeg">';

    function nextWord() {
      if (i + 1 >= sightList.length) {
        i = 0;
        console.log("reset");
        theWord = shuffle(sightList);
        theNewWord = theWord[i];
      } else {
        i = i + 1;
        theNewWord = theWord[i];
      }

      document.getElementById("theWord").innerText = theNewWord;
      document.getElementById("myAudio").innerHTML = "<source src='./audio/"+theNewWord+".mp3' type='audio/mpeg'>";
      console.log(theNewWord);
      return (i);
    }



    function playAudio() {
      x.load();
      x.play();
    }

    function pauseAudio() {
      x.pause();
    } 
  </script>

</body>

</html>
